import { z } from 'zod';

const currencies = ['USD', 'EUR', 'SAR', 'AED', 'EGP', 'INR'] as const;
const statuses = ['Ù…ÙƒØªÙ…Ù„', 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±', 'Ù…Ø±ÙÙˆØ¶', 'Ù…Ù„ØºÙŠ'] as const;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ“Š CALCULATE SCHEMA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const calculateSchema = z.object({
  fromCurrency: z.enum(currencies, {
    errorMap: (issue) => {
      if (issue.code === 'invalid_enum_value') {
        return { message: 'Ø§Ù„Ø¹Ù…Ù„Ø© ØºÙŠØ± ØµØ§Ù„Ø­Ø©' };
      }
      return { message: 'Ø§Ù„Ø¹Ù…Ù„Ø© Ù…Ø·Ù„ÙˆØ¨Ø©' };
    },
  }),
  amount: z.number({
    required_error: 'Ø§Ù„Ù…Ø¨Ù„Øº Ù…Ø·Ù„ÙˆØ¨',
  }).positive({ message: 'Ø§Ù„Ù…Ø¨Ù„Øº ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ÙƒØ¨Ø± Ù…Ù† ØµÙØ±' }),
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ“¦ CREATE ORDER SCHEMA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const createOrderSchema = z.object({
  // Currency & Amount
  fromCurrency: z.enum(currencies, {
    errorMap: (issue) => {
      if (issue.code === 'invalid_enum_value') {
        return { message: 'Ø§Ù„Ø¹Ù…Ù„Ø© ØºÙŠØ± ØµØ§Ù„Ø­Ø©' };
      }
      return { message: 'Ø§Ù„Ø¹Ù…Ù„Ø© Ù…Ø·Ù„ÙˆØ¨Ø©' };
    },
  }),
  amount: z.number({
    required_error: 'Ø§Ù„Ù…Ø¨Ù„Øº Ù…Ø·Ù„ÙˆØ¨',
  }).positive({ message: 'Ø§Ù„Ù…Ø¨Ù„Øº ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ÙƒØ¨Ø± Ù…Ù† ØµÙØ±' }),

  // Sender Info
  senderName: z.string({
    required_error: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø³Ù„ Ù…Ø·Ù„ÙˆØ¨',
  })
    .trim()
    .min(2, { message: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø³Ù„ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø­Ø±ÙÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' })
    .max(100, { message: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø³Ù„ ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 100 Ø­Ø±Ù' }),
  senderAddress: z.string({
    required_error: 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø±Ø³Ù„ Ù…Ø·Ù„ÙˆØ¨',
  })
    .trim()
    .min(5, { message: 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 5 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' })
    .max(200, { message: 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 200 Ø­Ø±Ù' }),
  senderPhone: z.string({
    required_error: 'Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø±Ø³Ù„ Ù…Ø·Ù„ÙˆØ¨',
  })
    .trim()
    .regex(/^[0-9+\-\s]+$/, { message: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ§Ù„Ø­' })
    .min(10, { message: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' })
    .max(20, { message: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 20 Ø±Ù‚Ù…' }),

  // Recipient Info
  recipientName: z.string({
    required_error: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù… Ù…Ø·Ù„ÙˆØ¨',
  })
    .trim()
    .min(2, { message: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø­Ø±ÙÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' })
    .max(100, { message: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù… ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 100 Ø­Ø±Ù' }),
  recipientAccountNumber: z.string({
    required_error: 'Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³ØªÙ„Ù… Ù…Ø·Ù„ÙˆØ¨',
  })
    .trim()
    .min(5, { message: 'Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 5 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' })
    .max(50, { message: 'Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 50 Ø­Ø±Ù' }),
  recipientPhone: z.string({
    required_error: 'Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø³ØªÙ„Ù… Ù…Ø·Ù„ÙˆØ¨',
  })
    .trim()
    .regex(/^[0-9+\-\s]+$/, { message: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ§Ù„Ø­' })
    .min(10, { message: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' })
    .max(20, { message: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 20 Ø±Ù‚Ù…' }),

  // Payment Method ID (Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ù†ÙƒÙŠ Ø§Ù„Ù„ÙŠ Ø¸Ù‡Ø± Ù„Ù„Ù€ User)
  paymentMethodId: z.number({
    required_error: 'ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹ Ù…Ø·Ù„ÙˆØ¨Ø©',
  }).int().positive({ message: 'ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹ ØºÙŠØ± ØµØ§Ù„Ø­Ø©' }),

  // Receipt
  receiptImage: z.string()
    .regex(/^data:image\/(png|jpg|jpeg|gif|webp);base64,/, {
      message: 'ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„ ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¨ØµÙŠØºØ© Base64 ØµØ§Ù„Ø­Ø©',
    })
    .optional()
    .nullable(),
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ“‹ GET MY ORDERS SCHEMA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const getMyOrdersSchema = z.object({
  status: z.enum(statuses, {
    errorMap: () => ({ message: 'Ø§Ù„Ø­Ø§Ù„Ø© ØºÙŠØ± ØµØ§Ù„Ø­Ø©' }),
  }).optional(),
  page: z.coerce.number()
    .int()
    .min(1, { message: 'Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 1 Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' })
    .default(1),
  limit: z.coerce.number()
    .int()
    .min(1, { message: 'Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù†ØªØ§Ø¦Ø¬ Ù‡Ùˆ 1' })
    .max(100, { message: 'Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù†ØªØ§Ø¦Ø¬ Ù‡Ùˆ 100' })
    .default(10),
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ” GET ORDER SCHEMA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export const getOrderSchema = z.object({
  id: z.string({
    required_error: 'Ù…Ø¹Ø±Ù Ø§Ù„Ø·Ù„Ø¨ Ù…Ø·Ù„ÙˆØ¨',
  }).regex(/^\d+$/, { message: 'Ù…Ø¹Ø±Ù Ø§Ù„Ø·Ù„Ø¨ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø±Ù‚Ù… ØµØ­ÙŠØ­' }),
});
